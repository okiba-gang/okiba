var OkibaComponent=function(){"use strict";function e(n,o){for(var t=0;t<o.length;t++){var e=o[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function m(n){if(void 0!==n&&0!==n.length)return 1===n.length?n[0]:n}function d(n,o){return function(n){return void 0===n?n:n instanceof Array?n:n.callee||n instanceof NodeList||n instanceof DOMTokenList||n instanceof HTMLCollection?Array.prototype.slice.call(n):[n]}((1<arguments.length&&void 0!==o?o:document).querySelectorAll(n))}return function(){function o(n){!function(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o),this.el=n.el,n.options&&(this.options=n.options),n.ui&&(this.ui=function(a,u){return Object.keys(a).reduce(function(n,o){var t=a[o],e=t.optional,r=void 0!==e&&e,i=t.asArray,c=void 0!==i&&i,s=d(a[o].selector||a[o],u);if(s.length)n[o]=c?s:m(s);else if(!r)throw new Error("[!!] [Component] Cant't find UI element for selector: ".concat(a[o]));return n},{})}(n.ui,n.el)),n.components&&(this.components=function(h,y){return Object.keys(h).reduce(function(n,o){var t=h[o],e=t.type,r=t.selector,i=t.options,c=t.ghost,s=void 0!==c&&c,a=t.optional,u=void 0!==a&&a,l=t.asArray,f=void 0!==l&&l;if("string"!=typeof r&&!s||!e)throw new Error("[!!] [Component] Invalid component configuration for key: ".concat(o));var p=s?[y]:d(r,y);if(p.length)p=f?p:m(p),n[o]=Array.isArray(p)?p.map(function(n){return new e({el:n,options:i})}):new e({el:p,options:i});else if(!u)throw new Error("[!!] [Component] Cant't find node with selector ".concat(r," for sub-component: ").concat(o));return n},{})}(n.components,n.el))}return function(n,o,t){o&&e(n.prototype,o),t&&e(n,t)}(o,[{key:"destroy",value:function(){var o=this;this.onDestroy&&this.onDestroy(),this.components&&Object.keys(this.components).forEach(function(n){return(o.components[n].length?o.components[n]:[o.components[n]]).forEach(function(n){return n.destroy()})}),this.components=null}}]),o}()}();
