var OkibaComponent=function(){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function h(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?t(i,!0).forEach(function(e){var t,n,r;t=o,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):t(i).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function O(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e){if(void 0!==e&&0!==e.length)return 1===e.length?e[0]:e}function v(e,t){return function(e){return void 0===e?e:e instanceof Array?e:e.callee||e instanceof NodeList||e instanceof DOMTokenList||e instanceof HTMLCollection?Array.prototype.slice.call(e):[e]}((1<arguments.length&&void 0!==t?t:document).querySelectorAll(e))}return function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e.el,e.options&&(this.options=e.options),e.ui&&(this.ui=function(a,u){return Object.keys(a).reduce(function(e,t){var n=a[t],r=n.optional,o=void 0!==r&&r,i=n.asArray,c=void 0!==i&&i,s=v(a[t].selector||a[t],u);if(!o&&0===s.length)throw new Error("[!!] [Component] Cant't find UI element for selector: ".concat(a[t]));return e[t]=c?s:m(s),e},{})}(e.ui,e.el)),e.components&&(this.components=function(y,b){return Object.keys(y).reduce(function(e,t){var n=y[t],r=n.type,o=n.selector,i=n.ghost,c=void 0!==i&&i,s=n.optional,a=void 0!==s&&s,u=n.asArray,l=void 0!==u&&u,f=O(n,["type","selector","ghost","optional","asArray"]);if("string"!=typeof o&&!c||!r)throw new Error("[!!] [Component] Invalid component configuration for key: ".concat(t));var p=c?[b]:v(o,b);if(!(a||p&&0!==p.length))throw new Error("[!!] [Component] Cant't find node with selector ".concat(o," for sub-component: ").concat(t));return(p=l?p:m(p))&&(e[t]=Array.isArray(p)?p.map(function(e){return new r(h({},f,{el:e}))}):new r(h({},f,{el:p}))),e},{})}(e.components,e.el))}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(t,[{key:"destroy",value:function(){var t=this;this.onDestroy&&this.onDestroy(),this.components&&Object.keys(this.components).forEach(function(e){return(t.components[e].length?t.components[e]:[t.components[e]]).forEach(function(e){return e.destroy()})}),this.components=null}}]),t}()}();
